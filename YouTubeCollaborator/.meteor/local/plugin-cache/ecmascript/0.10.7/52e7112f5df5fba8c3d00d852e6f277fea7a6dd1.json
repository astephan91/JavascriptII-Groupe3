{"metadata":{},"options":{"plugins":[{"key":"base$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"base$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$2","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$3","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":true}},{"key":"base$0$4","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"base$0$9","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$10","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/ui/body.js","filename":"imports/ui/body.js","sourceMaps":true,"envName":"development","cwd":"/Users/oriane/Documents/GitHub/JavascriptII-Groupe3/YouTubeCollaborator","passPerPreset":false,"presets":[],"parserOpts":{"sourceType":"module","sourceFileName":"imports/ui/body.js","plugins":["jsx","jsx","flow","flow","objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties"]},"generatorOpts":{"filename":"imports/ui/body.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/body.js"}},"code":"let Template;\nmodule.watch(require(\"meteor/templating\"), {\n  Template(v) {\n    Template = v;\n  }\n\n}, 0);\nlet Meteor;\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 1);\nlet Chansons;\nmodule.watch(require(\"../api/chansons.js\"), {\n  Chansons(v) {\n    Chansons = v;\n  }\n\n}, 2);\nmodule.watch(require(\"./body.html\"));\nmodule.watch(require(\"./templates/header.html\"));\nmodule.watch(require(\"./templates/youTube.html\"));\nmodule.watch(require(\"./templates/search.html\"));\nmodule.watch(require(\"./templates/parametres.html\"));\nmodule.watch(require(\"./templates/chanson.html\"));\nmodule.watch(require(\"./templates/spreadsheet.html\"));\nTemplate.body.helpers({\n  chansons() {\n    // Classement en fonction du score\n    return Chansons.find({}, {\n      sort: {\n        score: -1\n      }\n    });\n  }\n\n});\nTemplate.body.events({\n  'submit .nouvelleChanson'(event) {\n    // On empêche le comportement par défaut\n    event.preventDefault(); // Récupération des informations\n\n    const target = event.target;\n    const URL = target.URL.value; //Vérification de la validité de l'URL\n\n    if (URL.indexOf(\"youtube.com\") == -1 && URL.indexOf(\"youtu.be\") == -1) {\n      alert(\"Merci de rentrer une URL YouTube valide\");\n      return;\n    }\n\n    ;\n    const videoID = URL.split(\"v=\")[1]; // Insertion d'une chanson de score nul dans la collection\n\n    Chansons.insert({\n      URL,\n      videoID,\n      score: 0\n    }); // On vide la forme\n\n    target.URL.value = \"\";\n    target.titre.value = \"\";\n  }\n\n});\nTemplate.chanson.events({\n  //Augmentation du score\n  'click .pos'(event) {\n    // On empêche le comportement par défaut\n    event.preventDefault(); //Et on update le score\n\n    Chansons.update(this._id, {\n      $set: {\n        \"score\": this.score + 1\n      }\n    });\n  },\n\n  //Diminution du score\n  'click .neg'(event) {\n    //On empêche le comportement par défaut\n    event.preventDefault(); //Et on update le score\n\n    Chansons.update(this._id, {\n      $set: {\n        \"score\": this.score - 1\n      }\n    });\n  }\n\n}); //Lancement de YouTube\n\nif (Meteor.isClient) {\n  onYouTubeIframeAPIReady = function () {\n    player = new YT.Player(\"player\", {\n      videoId: \"fkk1vg0nAfc\",\n      events: {\n        onReady: function (event) {\n          event.target.playVideo();\n        }\n      }\n    });\n  };\n\n  YT.load();\n}\n\n;","map":{"version":3,"sources":["imports/ui/body.js"],"names":["Template","module","watch","require","v","Meteor","Chansons","body","helpers","chansons","find","sort","score","events","event","preventDefault","target","URL","value","indexOf","alert","videoID","split","insert","titre","chanson","update","_id","$set","isClient","onYouTubeIframeAPIReady","player","YT","Player","videoId","onReady","playVideo","load"],"mappings":"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","sourcesContent":["//Importation des méthodes\nimport { Template } from 'meteor/templating';\nimport { Meteor } from 'meteor/meteor';\nimport { Chansons } from '../api/chansons.js'\n\n//Importation de body\nimport './body.html';\n//Importation des templates\nimport './templates/header.html';\nimport './templates/youTube.html';\nimport './templates/search.html';\nimport './templates/parametres.html';\nimport './templates/chanson.html';\nimport './templates/spreadsheet.html'\n\n\n\nTemplate.body.helpers({\n  chansons(){\n    // Classement en fonction du score\n    return Chansons.find({}, { sort: { score: -1 } });\n    \n  }\n});\n\nTemplate.body.events({\n  'submit .nouvelleChanson'(event) {\n    // On empêche le comportement par défaut\n    event.preventDefault();\n \n    // Récupération des informations\n    const target = event.target;\n    const URL = target.URL.value;\n\n    //Vérification de la validité de l'URL\n    if(URL.indexOf(\"youtube.com\") == -1 && URL.indexOf(\"youtu.be\") == -1){\n      alert(\"Merci de rentrer une URL YouTube valide\");\n      return;\n    };\n    const videoID = URL.split(\"v=\")[1];\n \n    // Insertion d'une chanson de score nul dans la collection\n    Chansons.insert({\n      URL,\n      videoID,\n      score: 0,\n    });\n \n    // On vide la forme\n    target.URL.value = \"\";\n    target.titre.value= \"\";\n  },\n});\n\nTemplate.chanson.events({\n  //Augmentation du score\n  'click .pos'(event) {\n    // On empêche le comportement par défaut\n    event.preventDefault();\n\n    //Et on update le score\n    Chansons.update(this._id, {\n      $set: {\"score\": this.score +1},\n    });\n  },\n\n  //Diminution du score\n  'click .neg'(event) {\n    //On empêche le comportement par défaut\n    event.preventDefault();\n\n    //Et on update le score\n    Chansons.update(this._id, {\n      $set: {\"score\": this.score -1},\n    });\n  },\n});\n\n//Lancement de YouTube\n\nif (Meteor.isClient) {\n\n  onYouTubeIframeAPIReady = function() {\n    player = new YT.Player(\"player\", {\n      videoId: \"fkk1vg0nAfc\",\n      events: {\n        onReady: function (event) {\n          event.target.playVideo();\n        }\n      }\n    });\n  };\n\n  YT.load();\n};\n"]},"sourceType":"script","hash":"52e7112f5df5fba8c3d00d852e6f277fea7a6dd1"}
